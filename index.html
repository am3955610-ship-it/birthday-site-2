<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Surprise</title>

<style>
body{
  margin:0;
  padding:0;
  font-family:'Tahoma',sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  background:linear-gradient(135deg,#3e2723,#5d4037,#4e342e);
  background-size:400% 400%;
  animation:bgMove 12s ease infinite;
  color:#fff;
  text-align:center;
}

@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

section{
  display:none;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  position:absolute;
  width:100%;
  height:100%;
  padding:20px;
  animation:fadeIn 1s ease;
}

@keyframes fadeIn{
  from{opacity:0}
  to{opacity:1}
}

.active{display:flex;}

button{
  padding:12px 25px;
  border:none;
  border-radius:30px;
  background:linear-gradient(145deg,#6d4c41,#8d6e63);
  color:#fff;
  font-size:18px;
  cursor:pointer;
  transition:0.3s;
  margin:10px;
  position:relative;
}

button:hover{
  transform:scale(1.1);
}

/* ğŸ¬ Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ */
#finalScene{
  background:rgba(0,0,0,0.65);
  backdrop-filter:blur(6px);
}

#finalText{
  font-size:26px;
  line-height:1.8;
  max-width:750px;
  opacity:0;
  text-shadow:0 0 10px rgba(255,255,255,0.3);
}

.glow{
  animation:glowPulse 2s infinite alternate;
}

@keyframes glowPulse{
  from{text-shadow:0 0 5px rgba(255,255,255,0.2);}
  to{text-shadow:0 0 20px rgba(255,255,255,0.7);}
}

</style>
</head>

<body>

<audio id="finalMusic" src="soft-music.mp3"></audio>

<section id="scene1" class="active">
  <h1>Ø§Ø²ÙŠÙƒğŸ§</h1>
  <button onclick="nextScene('scene2')">Ø§Ù„ØªØ§Ù„ÙŠ</button>
</section>

<section id="scene2">
  <h2>Ø§ÙˆÙƒ Ø¹Ø§Ø±Ù Ø£Ù†Ù‡ Ù…ÙˆØ¶ÙˆØ¹ ØºØ±ÙŠØ¨ Ø£Ù†ÙŠ Ø¨Ø§Ø¹Øª Ù„Ùƒ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¯Ù‡ Ø¨Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø£Ø­Ø³Ù† Ù…Ù† Ù…ÙÙŠØ´</h2>
  <button onclick="nextScene('scene3')">Ø§Ù„ØªØ§Ù„ÙŠ</button>
</section>

<section id="scene3">
  <h2>Ø¹Ø§ÙŠØ² Ø£ÙˆØ±ÙŠÙ„Ùƒ Ø­Ø§Ø¬Ø©</h2>
  <button onclick="nextScene('choiceScene')">Ø§Ù„ØªØ§Ù„ÙŠ</button>
</section>

<section id="choiceScene">
  <h2>Ù…ÙˆØ§ÙÙ‚Ø© ØªØ´ÙˆÙÙŠØŸ</h2>
  <div>
    <button id="yesBtn" onclick="finalScene()">Ø§Ù‡ Ø£ÙƒÙŠØ¯</button>
    <button id="noBtn">Ù„Ø§</button>
  </div>
</section>

<section id="finalScene">
  <h2 id="finalText"></h2>
</section>

<script>

function nextScene(id){
  document.querySelectorAll("section").forEach(sec=>{
    sec.classList.remove("active");
  });
  document.getElementById(id).classList.add("active");
}

/* ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù‡Ø§Ø² */
const isMobile = /Mobi|Android/i.test(navigator.userAgent);
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");

if(!isMobile){
  // Ø²Ø±Ø§Ø± Ù„Ø§ ÙŠÙ‡Ø±Ø¨
  noBtn.addEventListener("mouseover", ()=>{
    const x = Math.random() * (window.innerWidth - 100);
    const y = Math.random() * (window.innerHeight - 50);
    noBtn.style.position = "absolute";
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
  });
}else{
  // Ø²Ø±Ø§Ø± Ø§Ù‡ ÙŠÙƒØ¨Ø±
  let scale = 1;
  yesBtn.addEventListener("click", ()=>{
    scale += 0.2;
    yesBtn.style.transform = `scale(${scale})`;
    noBtn.style.transform = `translateX(${scale*40}px)`;
  });
}

/* ğŸ¬ Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠ */
function finalScene(){
  nextScene("finalScene");

  const music = document.getElementById("finalMusic");
  music.volume = 0;
  music.play().catch(()=>{});

  // Fade in Ù„Ù„ØµÙˆØª
  let vol = 0;
  const fade = setInterval(()=>{
    if(vol < 0.6){
      vol += 0.02;
      music.volume = vol;
    }else{
      clearInterval(fade);
    }
  },200);

  const message = "ÙƒÙ„ Ø³Ù†Ø© Ùˆ Ø£Ù†ØªÙŠ Ø·ÙŠØ¨Ø© Ùˆ Ø¨ØµØ­Ø© Ùˆ Ø³Ù„Ø§Ù…Ø© Ùˆ ØªØ­Ù‚Ù‚ÙŠ Ø§Ù„Ù„ÙŠ ØªØªÙ…Ù†ÙŠÙ‡ Ùˆ ÙŠØ§Ø±Ø¨ ØªÙƒÙˆÙ† Ø³Ù†Ø© Ø³Ø¹ÙŠØ¯Ø© Ø¹Ù„ÙŠÙƒÙŠ ğŸ¤ğŸ‰";

  let i = 0;
  const speed = 55;
  const textElement = document.getElementById("finalText");
  textElement.innerHTML = "";
  textElement.style.opacity = 1;
  textElement.classList.add("glow");

  function typeWriter(){
    if(i < message.length){
      textElement.innerHTML += message.charAt(i);
      i++;
      setTimeout(typeWriter, speed);
    }else{
      confetti();
    }
  }

  typeWriter();
}

/* ğŸ‰ Confetti Ø£Ù†Ø¹Ù… */
function confetti(){
  for(let i=0;i<120;i++){
    let c=document.createElement("div");
    c.style.position="absolute";
    c.style.width="6px";
    c.style.height="6px";
    c.style.background=`hsl(${Math.random()*360},70%,65%)`;
    c.style.top="-10px";
    c.style.left=Math.random()*100+"%";
    c.style.opacity=1;
    c.style.borderRadius="50%";
    c.style.transition="4s linear";
    document.body.appendChild(c);

    setTimeout(()=>{
      c.style.top="100%";
      c.style.opacity=0;
    },10);

    setTimeout(()=>{
      c.remove();
    },4000);
  }
}

</script>

</body>
</html>
